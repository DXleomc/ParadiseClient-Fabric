package tk.milkthedev.paradiseclientfabric.exploit;

import com.mojang.brigadier.CommandDispatcher;
import com.mojang.brigadier.StringReader;
import com.mojang.brigadier.builder.LiteralArgumentBuilder;

import net.minecraft.command.CommandSource;
import tk.milkthedev.paradiseclientfabric.Helper;
import tk.milkthedev.paradiseclientfabric.ParadiseClient_Fabric;
import tk.milkthedev.paradiseclientfabric.exploit.Exploit;

import java.util.Arrays;
import java.util.List;

public class ExploitManager {

    public final List<Exploit> exploits;

    public ExploitManager(Exploit... exploits) {
        this.exploits = Arrays.asList(exploits);
    }

    public void handleExploit(String name) {
        Exploit exploit = getExploit(name);
        if (exploit == null) {
            Helper.printChatMessage("Unknown exploit. Do ?crash list to get the list of all exploits");
            return;
        }
        ParadiseClient_Fabric.getExploitMod().isRunning = true;
        exploit.execute();
//      if (!exploit.execute(alias, Arrays.copyOfRange(args, 1, args.length))) { Helper.printChatMessage("Usage: " + exploit.getUsage());}
    }

    public Exploit getExploit(String alias) {
        for (Exploit exploit : exploits) {
            if (exploit.getAlias().equals(alias)) {
                return exploit;
            }
        }
        return null;
    }

    public List<Exploit> getExploits() {
        return exploits;
    }
}
