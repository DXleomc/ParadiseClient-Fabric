package io.github.spigotrce.paradiseclientfabric.exploit;

import io.github.spigotrce.paradiseclientfabric.Helper;
import io.github.spigotrce.paradiseclientfabric.ParadiseClient_Fabric;

import java.util.Arrays;
import java.util.List;

public class ExploitManager {

    public final List<Exploit> exploits;

    public ExploitManager(Exploit... exploits) {
        this.exploits = Arrays.asList(exploits);
    }

    public void handleExploit(String name) {
        Exploit exploit = getExploit(name);
        if (exploit == null) {
            Helper.printChatMessage("Unknown exploit. Do ?crash list to get the list of all exploits");
            return;
        }
        ParadiseClient_Fabric.getExploitMod().isRunning = true;
        exploit.execute();
    }

    public Exploit getExploit(String alias) {
        for (Exploit exploit : exploits) {
            if (exploit.getAlias().equals(alias)) {
                return exploit;
            }
        }
        return null;
    }

    public List<Exploit> getExploits() {
        return exploits;
    }
}
